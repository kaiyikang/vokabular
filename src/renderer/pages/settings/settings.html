<!doctype html>
<html>
    <head>
        <meta charset="UTF-8" />
        <title>Settings</title>
        <link rel="stylesheet" href="/styles/index.css" />
    </head>
    <body>
        <!-- <div>
            <h1>Settings</h1>
            <textarea
                id="nativeLanguage"
                placeholder="native Language"
            ></textarea>
            <textarea
                id="targetLanguage"
                placeholder="target Language"
            ></textarea>
        </div> -->

        <div class="flex min-h-screen flex-col p-4">
            <div class="flex-1 space-y-6">
                <!-- 标题部分 -->
                <div class="flex items-end space-x-2">
                    <h1 class="text-4xl font-semibold">Settings</h1>
                </div>

                <div class="space-y-6">
                    <!-- Provider Selection -->
                    <div>
                        <label
                            for="providerSelect"
                            class="mb-1 block text-sm font-medium text-stone-700"
                            >Select AI Provider</label
                        >
                        <div class="relative">
                            <select
                                id="providerSelect"
                                class="h-10 w-full appearance-none rounded-lg border-2 border-stone-200 bg-stone-50 px-3 py-2 pr-8 transition-all duration-200 hover:border-stone-700 hover:bg-white focus:border-stone-900 focus:bg-white focus:ring-2 focus:ring-stone-900/20 focus:outline-none"
                            >
                                <option value="openai">OpenAI</option>
                                <option value="openrouter">OpenRouter</option>
                                <option value="deepseek">DeepSeek</option>
                                <option value="anthropic">Anthropic</option>
                            </select>
                            <div
                                class="pointer-events-none absolute inset-y-0 right-0 flex items-center px-2 text-stone-700"
                            >
                                <svg
                                    class="h-4 w-4 fill-current"
                                    xmlns="http://www.w3.org/2000/svg"
                                    viewBox="0 0 20 20"
                                >
                                    <path
                                        d="M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z"
                                    />
                                </svg>
                            </div>
                        </div>
                    </div>

                    <!-- API Key Input -->
                    <div>
                        <label
                            for="apiKeyInput"
                            class="mb-1 block text-sm font-medium text-stone-700"
                            >API Key</label
                        >
                        <input
                            type="password"
                            id="apiKeyInput"
                            placeholder="Enter your API key"
                            class="h-10 w-full rounded-lg border-2 border-stone-200 bg-stone-50 px-3 py-2 transition-all duration-200 hover:border-stone-700 hover:bg-white focus:border-stone-900 focus:bg-white focus:ring-2 focus:ring-stone-900/20 focus:outline-none"
                        />
                        <p class="mt-1 text-xs text-stone-500">
                            Your API key is stored locally and never sent to our
                            servers.
                        </p>
                    </div>

                    <!-- List Models -->
                    <div>
                        <label
                            for="modelSelect"
                            class="mb-1 block text-sm font-medium text-stone-700"
                            >Select Model</label
                        >
                        <!-- <div class="relative flex-grow">
                            <select
                                id="modelSelect"
                                class="h-10 w-full min-w-[120px] appearance-none rounded-lg border-2 border-stone-200 bg-stone-50 px-3 py-2 pr-8 transition-all duration-200 hover:border-stone-700 hover:bg-white focus:border-stone-900 focus:bg-white focus:ring-2 focus:ring-stone-900/20 focus:outline-none disabled:text-stone-400"
                                required
                            >
                                <option value="" disabled selected>
                                    Select Model
                                </option>
                            </select>
                            <div
                                class="pointer-events-none absolute inset-y-0 right-0 flex items-center px-2 text-stone-700"
                            >
                                <svg
                                    class="h-4 w-4 fill-current"
                                    xmlns="http://www.w3.org/2000/svg"
                                    viewBox="0 0 20 20"
                                >
                                    <path
                                        d="M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z"
                                    />
                                </svg>
                            </div>
                        </div> -->
                        <div class="relative flex items-center">
                            <div class="relative flex-grow">
                                <select
                                    id="modelSelect"
                                    class="h-10 w-full min-w-[120px] appearance-none rounded-lg border-2 border-stone-200 bg-stone-50 px-3 py-2 pr-8 transition-all duration-200 hover:border-stone-700 hover:bg-white focus:border-stone-900 focus:bg-white focus:ring-2 focus:ring-stone-900/20 focus:outline-none disabled:text-stone-400"
                                    required
                                >
                                    <option value="" disabled selected>
                                        Select Model
                                    </option>
                                    <!-- Models will be populated dynamically -->
                                </select>
                            </div>
                            <button
                                id="reloadModels"
                                class="ml-2 flex h-10 w-10 items-center justify-center rounded-lg border-2 border-stone-200 px-2 py-1 text-sm text-stone-600 transition-all duration-200 hover:border-stone-700 hover:bg-white hover:text-stone-900 focus:border-stone-900 focus:bg-white focus:ring-2 focus:ring-stone-900/20 focus:outline-none disabled:text-stone-400"
                                aria-label="Reload Models"
                            >
                                <svg
                                    xmlns="http://www.w3.org/2000/svg"
                                    width="24"
                                    height="24"
                                    viewBox="0 0 24 24"
                                    class="mx-auto"
                                >
                                    <path
                                        fill="currentColor"
                                        d="M12 20q-3.35 0-5.675-2.325T4 12t2.325-5.675T12 4q1.725 0 3.3.712T18 6.75V5q0-.425.288-.712T19 4t.713.288T20 5v5q0 .425-.288.713T19 11h-5q-.425 0-.712-.288T13 10t.288-.712T14 9h3.2q-.8-1.4-2.187-2.2T12 6Q9.5 6 7.75 7.75T6 12t1.75 4.25T12 18q1.7 0 3.113-.862t2.187-2.313q.2-.35.563-.487t.737-.013q.4.125.575.525t-.025.75q-1.025 2-2.925 3.2T12 20"
                                        stroke-width="0.5"
                                        stroke="currentColor"
                                    />
                                </svg>
                            </button>
                        </div>
                    </div>

                    <div class="flex items-center gap-2">
                        <button
                            id="clientConnectBtn"
                            class="rounded-lg border-2 border-stone-200 bg-white px-2 py-1 text-sm text-stone-600 transition-all duration-200 hover:bg-stone-50 hover:text-stone-900 focus:border-stone-900 focus:ring-2 focus:ring-stone-900/20 focus:outline-none"
                        >
                            Test connectivity
                        </button>
                        <div
                            id="connectionSuccess"
                            class="hidden h-3 w-3 rounded-full bg-green-600"
                        ></div>
                        <div
                            id="connectionError"
                            class="hidden h-3 w-3 rounded-full bg-red-600"
                        ></div>
                        <div
                            id="connectionLoading"
                            class="h-3 w-3 rounded-full bg-gray-600"
                        ></div>
                    </div>
                </div>
            </div>

            <div class="mt-auto border-stone-200">
                <div class="flex justify-end space-x-4">
                    <button
                        id="cancelSettingsBtn"
                        class="rounded-lg border-2 border-stone-200 bg-white px-4 py-2 font-medium text-stone-600 transition-all duration-200 hover:bg-stone-50 hover:text-stone-900 focus:border-stone-900 focus:ring-2 focus:ring-stone-900/20 focus:outline-none"
                    >
                        Cancel
                    </button>
                    <button
                        id="saveSettingsBtn"
                        class="rounded-lg bg-stone-800 px-4 py-2 font-medium text-white transition-all duration-200 hover:bg-stone-900 focus:ring-2 focus:ring-stone-900/20 focus:outline-none"
                    >
                        Save
                    </button>
                </div>
            </div>
        </div>

        <script src="./settings.js" type="module"></script>
    </body>
</html>
